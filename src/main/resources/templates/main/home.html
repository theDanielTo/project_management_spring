<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="layouts :: html-header" />

<body>
  <nav th:replace="layouts :: navbar"></nav>
  <div class="container">
    <h3 class="mt-4 text-center">Main Dashboard</h3>
    <hr>

    <h4> Current Projects </h4>
    <div class="row">
      <div class="col-md-6">
        <table class="table table-bordered table-striped">
          <thead class="thead-dark">
            <tr>
              <th> Project Name </th>
              <th> Project Stage </th>
            </tr>
          </thead>
          <tbody>
            <tr th:each="aProject : ${projectsList}">
              <td th:text="${aProject.name}" />
              <td th:text="${aProject.Stage}" />
            </tr>
          </tbody>
        </table>
      </div>

      <div class="col-md-4">
        <canvas id="myPieChart" height="50" width="50"></canvas>
      </div>
    </div>
  </div>

  <div class="container">
    <h4> Current Employees </h4>
    <div class="row">
      <div class="col-md-6">
        <table class="table table-bordered table-striped">
          <thead class="thead-dark">
            <tr>
              <th> First Name </th>
              <th> Last Name </th>
              <th> Project Count </th>
            </tr>
          </thead>
          <tbody>
            <tr th:each="anEmployeeProjectCount : ${employeesProjectCount}">
              <td th:text="${anEmployeeProjectCount.firstName}" />
              <td th:text="${anEmployeeProjectCount.lastName}" />
              <td th:text="${anEmployeeProjectCount.projectCount}" />
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <script type="text/javascript" th:src="@{js/myChart.js}"></script>
</body>

</html>
